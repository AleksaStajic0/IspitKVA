<div class="movie-detail-container" *ngIf="movie">
  <mat-card class="movie-card">
    <div class="movie-content">
      <div class="poster-section">
        <mat-card class="poster-card mat-elevation-4">
          <img 
            [src]="movie?.posterUrl" 
            [alt]="movie?.title + ' poster'"
            class="movie-poster"
            onerror="this.src='assets/images/no-poster.jpg'"
          />
        </mat-card>
      </div>

      <div class="details-section">
        <mat-card class="details-card">
          <mat-card-header class="movie-header">
            <mat-card-title class="movie-title">{{ movie?.title }}</mat-card-title>
            <mat-card-subtitle class="movie-subtitle">{{ movie?.genre }} â€¢ {{ movie?.releaseDate | date:'yyyy' }}</mat-card-subtitle>
          </mat-card-header>

          <mat-card-content class="movie-details">
            <div class="detail-row">
              <mat-icon class="detail-icon" color="accent">star</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Rating</span>
                <div class="rating-container">
                  <span class="rating-value">{{ movie.rating }}/10</span>
                  <mat-progress-bar 
                    mode="determinate" 
                    [value]="movie.rating * 10"
                    color="accent"
                    class="rating-bar">
                  </mat-progress-bar>
                </div>
              </div>
            </div>
            <div class="detail-row">
              <mat-icon class="detail-icon" color="primary">schedule</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Duration</span>
                <span class="detail-value">{{ movie.duration }} minutes</span>
              </div>
            </div>

            <div class="detail-row">
              <mat-icon class="detail-icon" color="primary">movie</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Director</span>
                <span class="detail-value">{{ movie.director }}</span>
              </div>
            </div>

            <div class="detail-row">
              <mat-icon class="detail-icon" color="primary">event</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Release Date</span>
                <span class="detail-value">{{ movie.releaseDate | date:'longDate' }}</span>
              </div>
            </div>

            <div class="detail-row actors-row">
              <mat-icon class="detail-icon" color="primary">people</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Cast</span>
                <div class="actors-container">
                  <mat-chip-listbox class="actors-chips">
                     <span class="detail-value" *ngFor="let actor of movie.actors" >
                      {{ actor }},&nbsp;
                      </span>
                    
                  </mat-chip-listbox>
                </div>
              </div>
            </div>

            <div class="detail-row description-row">
              <mat-icon class="detail-icon" color="primary">description</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Description</span>
                <p class="detail-description">{{ movie.description }}</p>
              </div>
            </div>

            <div class="detail-row">
              <mat-icon class="detail-icon" color="accent">rate_review</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Reviews</span>
                <span class="detail-value">{{ movie.reviews.length }} reviews</span>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </mat-card>
</div>

<div class="loading-container" *ngIf="!movie">
  <mat-spinner diameter="50"></mat-spinner>
  <p class="loading-text">Loading movie details...</p>
</div>